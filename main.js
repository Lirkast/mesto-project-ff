(()=>{"use strict";function e(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&n(t)}}function t(t){t.classList.add("popup_is-animated"),t.classList.add("popup_is-opened"),document.addEventListener("keydown",e)}function n(t){t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",e)}var o=document.querySelector("#card-template").content;function p(e){e.classList.toggle("card__like-button_is-active")}function r(e,t,n,p,r){var u=o.cloneNode(!0).querySelector(".card"),c=u.querySelector(".card__image"),i=u.querySelector(".card__title"),d=u.querySelector(".card__like-button"),a=u.querySelector(".card__delete-button");return i.textContent=e,c.src=t,c.alt=e,a.addEventListener("click",(function(){return n(u)})),d.addEventListener("click",(function(){return p(d)})),c.addEventListener("click",(function(){return r({name:e,link:t})})),u}function u(e){e.remove()}var c={editButton:document.querySelector(".profile__edit-button"),editPopup:document.querySelector(".popup_type_edit"),imagePopup:document.querySelector(".popup_type_image"),addButton:document.querySelector(".profile__add-button"),profileTitle:document.querySelector(".profile__title"),descriptionInput:document.querySelector(".popup__input_type_description"),placesList:document.querySelector(".places__list"),popupImage:document.querySelector(".popup__image"),popupCaption:document.querySelector(".popup__caption"),profileDescription:document.querySelector(".profile__description"),editProfileForm:document.querySelector(".popup_type_edit .popup__form"),nameInput:document.querySelector(".popup__input_type_name"),addPopup:document.querySelector(".popup_type_new-card"),newForm:document.querySelector(".popup_type_new-card .popup__form"),cardNameInput:document.querySelector(".popup__input_type_card-name"),cardLinkInput:document.querySelector(".popup__input_type_url")};function i(e){c.popupImage.src=e.link,c.popupImage.alt=e.name,c.popupCaption.textContent=e.name,t(c.imagePopup)}document.querySelectorAll(".popup").forEach((function(e){var t=e.querySelector(".popup__close");t&&t.addEventListener("click",(function(){n(e)})),e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&n(e)}))})),c.editButton.addEventListener("click",(function(){c.nameInput.value=c.profileTitle.textContent,c.descriptionInput.value=c.profileDescription.textContent,t(c.editPopup)})),c.addButton.addEventListener("click",(function(){c.newForm.reset(),t(c.addPopup)})),c.editProfileForm.addEventListener("submit",(function(e){e.preventDefault(),c.profileTitle.textContent=c.nameInput.value,c.profileDescription.textContent=c.descriptionInput.value,n(c.editPopup)})),c.newForm.addEventListener("submit",(function(e){e.preventDefault();var t={name:c.cardNameInput.value,link:c.cardLinkInput.value},o=r(t.name,t.link,u,p,i);c.placesList.prepend(o),n(c.addPopup),c.newForm.reset()})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=r(e.name,e.link,u,p,i);c.placesList.append(t)}))})();